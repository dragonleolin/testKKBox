(this.webpackJsonphelloworld=this.webpackJsonphelloworld||[]).push([[0],{34:function(e,t,a){e.exports=a(66)},39:function(e,t,a){},60:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),o=a.n(c),l=(a(39),a(5)),i=a(6),s=a(8),m=a(7),u=a(9),p=a(2),h=a.n(p),d=a(12),v=a(13),f=a(31),g=a.n(f),b=a(14),y=a.n(b),E=(a(60),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).getInitData=function(){var e,t;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.props.token,t=a.props.hitId,console.log(12,e),n.next=5,h.a.awrap(y.a.get("https://api.kkbox.com/v1.1/charts/".concat(t,"?territory=TW"),{headers:{Authorization:"Bearer "+e}}).then((function(e){var t,n;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(13,e.data.tracks.data[0].name),t=e.data.tracks.data[0].name,n=e.data.tracks.data,r.next=5,h.a.awrap(a.setState({title:e.data.title,allSong:n,YTName:t}));case 5:return r.next=7,h.a.awrap(a.getYTData());case 7:case"end":return r.stop()}}))})));case 5:case"end":return n.stop()}}))},a.getYTData=function(){var e=a.state.YTName;console.log(4,e),y.a.get("https://www.googleapis.com/youtube/v3/search?key=AIzaSyCqiOvXgeO9u7AbLly294jjoZwZ3PFVKDs&part=snippet&type=video&q=".concat(e)).then((function(e){console.log(5,e.data);var t=e.data.items[0].id.videoId,n=e.data;a.setState({playYTData:t,YTData:n})})).catch((function(e){console.log(e)}))},a.state={title:"",YTName:"",playYTData:"",allSong:[],YTData:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getInitData()}},{key:"render",value:function(){var e=this,t=this.state.playYTData,a=this.state.allSong,n=this.state.YTData,c=0;return console.log(123,t),console.log(124,n.items&&n.items[0].snippet.title),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"playLists container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"playContent col-md-8 col-12 d-flex justify-content-start flex-column"},r.a.createElement("iframe",{src:"https://www.youtube.com/embed/".concat(t),style:{minHeight:"600px",weight:"100vw"}}),r.a.createElement("div",{className:"playText"},r.a.createElement("h3",null,n.items&&n.items[0].snippet.title),r.a.createElement("h4",null,n.items&&n.items[0].snippet.description))),r.a.createElement("div",{className:"col-md-4 col-12 "},r.a.createElement("div",{style:{margin:"5px",overflowY:"scroll",height:"700px"}},r.a.createElement("h2",null,this.state.title),a.map((function(t){return r.a.createElement("div",{className:"row",style:{margin:"5px",cursor:"pointer"},onClick:function(){var a;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.name,n.next=3,h.a.awrap(e.setState({YTName:a}));case 3:return n.next=5,h.a.awrap(e.getYTData());case 5:case"end":return n.stop()}}))},key:c++},r.a.createElement("img",{src:t.album.images[0].url,style:{width:"80px",height:"80px"}}),r.a.createElement("div",{className:"col"},r.a.createElement("h4",null,t.name),r.a.createElement("h4",null,t.album.artist.name)))})))))))}}]),t}(r.a.Component)),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).getNewHitPlayLists=function(){var e;return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=a.props.token,console.log(6,e),void 0===e){t.next=5;break}return t.next=5,h.a.awrap(y.a.get("https://api.kkbox.com/v1.1/new-hits-playlists?territory=TW",{headers:{Authorization:"Bearer "+e}}).then((function(t){var n=t.data.data;a.setState({hitPlayList:n,token:e})})).catch((function(e){console.log(e)})));case 5:case"end":return t.stop()}}))},a.state={token:"",searchData:[],YTName:"",playYTData:"",hitPlayList:[],hitId:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getNewHitPlayLists()}},{key:"render",value:function(){var e=this;console.log(8,this.state.hitPlayList);var t=this.state.hitPlayList,a=0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",null,r.a.createElement("h2",{style:{textAlign:"center",margin:"20px"}},"KKBOX OPEN API \u71b1\u9580\u6b4c\u55ae"),r.a.createElement("div",{className:"row d-flex flex-row justify-content-center"},t.map((function(t){return r.a.createElement("div",{className:"col-md-3.col-6",style:{margin:"20px"},onClick:function(){var a=t.id;e.setState({hitId:a})},key:a++},r.a.createElement(d.b,{to:"/hitList/PlayLists"},r.a.createElement("img",{src:t.images[0].url}),r.a.createElement("div",{style:{textAlign:"center",margin:"20px",fontSize:"18px"}},t.title)))})))),r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/hitList/PlayLists",component:function(){return r.a.createElement(E,{hitId:e.state.hitId,token:e.state.token})}})))}}]),t}(r.a.Component),w=(r.a.Component,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,this.props.token))}}]),t}(r.a.Component)),x=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).getToken=function(){y.a.post("/oauth2/token",g.a.stringify({grant_type:"client_credentials",client_id:"19d225bcb7a2cadda5e9418952fed522",client_secret:"1f8bc06e0a05e1e1a721af6c31e3d340"}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){var a;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(1,t.data.access_token),a=t.data.access_token,n.next=4,h.a.awrap(e.setState({token:a}));case 4:case"end":return n.stop()}}))}))},e.state={token:""},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getToken()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("h2",{className:"navbar-brand",href:"test",onClick:function(){window.location.href="/"},style:{cursor:"pointer"}},"MyKKBOX"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("h4",{className:"nav-link"},r.a.createElement(d.b,{to:"/hitList"},"\u71b1\u9580\u6b4c\u55ae"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("h4",{className:"nav-link"},r.a.createElement(d.b,{to:"/themeList"},"\u4e3b\u984c\u6b4c\u55ae")))))),r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/hitList",component:function(){return r.a.createElement(k,{token:e.state.token})}}),r.a.createElement(v.a,{path:"/themeList",component:function(){return r.a.createElement(w,{token:e.state.token})}})))}}]),t}(r.a.Component),O=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,null),r.a.createElement(v.a,{exact:!0,path:"/",component:k}),r.a.createElement(v.a,{path:"/themeList",component:w}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(d.a,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.643b5fdc.chunk.js.map